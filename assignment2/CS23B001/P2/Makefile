JTB_JAR = jtb132.jar
GRAMMAR = minijava.jj
OUT_GRAMMAR = jtb.out.jj

all: parser

parser: $(OUT_GRAMMAR)
	javacc $(OUT_GRAMMAR)

$(OUT_GRAMMAR): $(GRAMMAR)
	java -jar $(JTB_JAR) $(GRAMMAR)

# only remove files generated by JTB and JavaCC
clean:
	rm -f $(OUT_GRAMMAR) \
	      Node*.java \
	      Visitor*.java \
	      DepthFirstVisitor.java \
	      *.class \
	      *.tokens
